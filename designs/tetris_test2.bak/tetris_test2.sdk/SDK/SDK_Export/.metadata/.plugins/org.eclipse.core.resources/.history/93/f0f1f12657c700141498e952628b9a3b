/*
 * tetris_ai_io.c
 *
 *  Created on: 2015-03-10
 *      Author: derek
 */

#include "tetris_ai_io.h"
#include "xparameters.h"

// TODO deterine ai_cntrl reg and bram address
//volatile unsigned int * ai_cntrl = (unsigned int*) XPAR_AXI_TFT_0_BASEADDR + 1;
volatile unsigned int * ai_cntrl = (unsigned int*) 0;
//volatile unsigned int * ai_bram = (unsigned int*) XPAR_BRA;
volatile unsigned int * ai_bram = (unsigned int*) 0xC0000000; // TODO xparameters not working for this

void write_state(board_t board, int next_piece)
{
    *ai_bram = next_piece;
    int i;
    for (i = 0; i < N_ROWS -1; i++) {
        ai_bram[i + 1] = board[i];
    }

    // TODO write to control reg?
}

void get_moves(int * moves)
{

}

